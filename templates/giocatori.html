{% extends "base.html" %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <!-- Titolo -->
    <h1 class="text-3xl font-bold text-center mb-6">Statistiche Giocatori</h1>

    <!-- Barra di ricerca -->
    <div class="mb-6">
        <input type="text" id="searchInput"
               class="w-full px-4 py-2 border rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-400"
               placeholder="Cerca giocatore...">
    </div>

    {% if giocatori %}
    <!-- Lista Giocatori -->
    <ul id="giocatoriList" class="space-y-3">
        {% for g in giocatori %}
        <li>
            <a href="/giocatore?nome={{ g }}"
               class="block bg-white px-4 py-3 rounded-xl shadow hover:shadow-md hover:bg-gray-50 transition">
                {{ g }}
            </a>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <p class="text-center text-gray-500">Nessun giocatore registrato.</p>
    {% endif %}
</div>

<!-- Script per filtrare i giocatori -->
<script>
    document.getElementById("searchInput").addEventListener("input", function () {
        const filter = this.value.toLowerCase();
        const items = document.querySelectorAll("#giocatoriList li");

        items.forEach(item => {
            const text = item.textContent.toLowerCase();
            item.style.display = text.includes(filter) ? "" : "none";
        });
    });
</script>
{% endblock %}
